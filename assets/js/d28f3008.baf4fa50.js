"use strict";(self.webpackChunkauxilor_docs=self.webpackChunkauxilor_docs||[]).push([[71922],{3905:function(e,t,r){r.d(t,{Zo:function(){return p},kt:function(){return f}});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var u=n.createContext({}),s=function(e){var t=n.useContext(u),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},p=function(e){var t=s(e.components);return n.createElement(u.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,u=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=s(r),f=a,g=d["".concat(u,".").concat(f)]||d[f]||c[f]||o;return r?n.createElement(g,i(i({ref:t},p),{},{components:r})):n.createElement(g,i({ref:t},p))}));function f(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=d;var l={};for(var u in t)hasOwnProperty.call(t,u)&&(l[u]=t[u]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var s=2;s<o;s++)i[s]=r[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},59406:function(e,t,r){r.r(t),r.d(t,{assets:function(){return p},contentTitle:function(){return u},default:function(){return f},frontMatter:function(){return l},metadata:function(){return s},toc:function(){return c}});var n=r(87462),a=r(63366),o=(r(67294),r(3905)),i=["components"],l={title:"Data Migration Guide",sidebar_position:9},u=void 0,s={unversionedId:"all-plugins/data-migration-guide",id:"all-plugins/data-migration-guide",title:"Data Migration Guide",description:"This is a guide for changing data handler (e.g. yaml -> mysql), or for updating eco from a version before 6.74.0.",source:"@site/docs/all-plugins/data-migration-guide.md",sourceDirName:"all-plugins",slug:"/all-plugins/data-migration-guide",permalink:"/all-plugins/data-migration-guide",editUrl:"https://github.com/Auxilor/auxilor.github.io/tree/master/docs/all-plugins/data-migration-guide.md",tags:[],version:"current",sidebarPosition:9,frontMatter:{title:"Data Migration Guide",sidebar_position:9},sidebar:"tutorialSidebar",previous:{title:"Custom GUI Slots",permalink:"/all-plugins/custom-gui-slots"},next:{title:"Configuring an Effect",permalink:"/effects/configuring-an-effect"}},p={},c=[{value:"For Networks",id:"for-networks",level:2},{value:"For Single Servers",id:"for-single-servers",level:2}],d={toc:c};function f(e){var t=e.components,r=(0,a.Z)(e,i);return(0,o.kt)("wrapper",(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"This is a guide for changing data handler (e.g. yaml -> mysql), or for updating eco from a version before 6.74.0."),(0,o.kt)("h2",{id:"for-networks"},"For Networks"),(0,o.kt)("p",null,"If you use the same database on multiple servers, follow these steps:"),(0,o.kt)("p",null,"1) Shut down all servers."),(0,o.kt)("p",null,"2) Go to ",(0,o.kt)("inlineCode",{parentName:"p"},"/plugins/eco/config.yml")," and make sure ",(0,o.kt)("inlineCode",{parentName:"p"},"perform-data-migration")," is only set to ",(0,o.kt)("inlineCode",{parentName:"p"},"true")," for ",(0,o.kt)("strong",{parentName:"p"},"one")," server."),(0,o.kt)("p",null,"3) On the server with data migration enabled, add ",(0,o.kt)("inlineCode",{parentName:"p"},"-Ddisable.watchdog=true")," to startup flags."),(0,o.kt)("p",null,"4) Update ",(0,o.kt)("inlineCode",{parentName:"p"},"data-handler")," to your new database in config on that server. If you are upgrading from before 6.74.0, ",(0,o.kt)("strong",{parentName:"p"},"do not change this"),". You can migrate again afterwards, but do not change data handler while updating eco."),(0,o.kt)("p",null,"5) Start that server, leave other servers off until migration is complete."),(0,o.kt)("p",null,"6) Wait for migration to complete. The server will restart automatically once migration is done."),(0,o.kt)("p",null,"7) Turn your other servers back on."),(0,o.kt)("h2",{id:"for-single-servers"},"For Single Servers"),(0,o.kt)("p",null,"If your server is not on a network, follow these steps:"),(0,o.kt)("p",null,"1) Shut down your server."),(0,o.kt)("p",null,"2) Add ",(0,o.kt)("inlineCode",{parentName:"p"},"-Ddisable.watchdog=true")," to startup flags."),(0,o.kt)("p",null,"3) Update ",(0,o.kt)("inlineCode",{parentName:"p"},"data-handler")," to your new database in config. If you are upgrading from before 6.74.0, ",(0,o.kt)("strong",{parentName:"p"},"do not change this"),". You can migrate again afterwards, but do not change data handler while updating eco."),(0,o.kt)("p",null,"4) Start the server and wait for migration to complete. The server will restart automatically once migration is done."))}f.isMDXComponent=!0}}]);